# 3D 迷宫游戏

一个使用 Three.js 构建的 3D 迷宫游戏，支持多种视角和直观的控制方式。

## 🎮 游戏特色

### 3D 渲染
- 使用 Three.js 渲染真实的 3D 迷宫环境
- 动态光照和阴影效果
- 平滑的小球移动动画

### 多视角模式
- **跟随视角**: 摄像机跟随小球移动
- **俯视视角**: 从上方俯视整个迷宫
- **第一人称**: 从小球位置的第一人称视角

### 控制方式
- **PC端**: WASD 键或方向键控制
- **移动端**: 手势滑动控制
- **虚拟按键**: 屏幕虚拟方向键

## 🎯 游戏玩法

1. 控制红色小球在 3D 迷宫中移动
2. 找到通往金色终点的路径
3. 小球会在格子间平滑移动，带有跳跃动画
4. 可以随时切换视角模式获得最佳体验

## ⚙️ 技术特点

### 游戏引擎
- **Three.js**: 3D 渲染引擎
- **格子系统**: 基于网格的移动系统
- **动画系统**: 平滑的移动过渡动画

### 迷宫生成
- **递归回溯算法**: 生成复杂且有解的迷宫
- **动态构建**: 3D 墙壁根据迷宫数据动态生成
- **性能优化**: 高效的几何体和材质管理

### 用户体验
- **响应式设计**: 适配不同屏幕尺寸
- **触摸优化**: 手机端手势控制
- **视觉反馈**: 实时状态指示器

## 🔧 架构设计

```
maze/
├── components/           # React 组件
│   ├── MazeGame.tsx     # 主游戏组件
│   ├── MazeCanvas.tsx   # Three.js 画布
│   └── GameControls.tsx # 游戏控制面板
├── store.ts             # Zustand 状态管理
└── page.tsx             # 页面入口
```

### 状态管理
使用 Zustand 管理游戏状态，包括：
- 游戏进度 (开始/完成状态)
- 小球位置和移动状态
- Three.js 场景对象
- 摄像机配置

### 渲染管道
1. **场景初始化**: 创建 Three.js 场景、摄像机、渲染器
2. **迷宫构建**: 根据算法生成的数据构建 3D 墙壁
3. **动画循环**: 持续渲染和更新场景
4. **清理机制**: 组件卸载时清理资源

## 🎨 视觉设计

- **环境**: 天蓝色背景营造开放感
- **材质**: Lambert 材质提供柔和光照
- **颜色**: 红色小球、棕色墙壁、绿色地板、金色终点
- **动画**: 跳跃式移动增加趣味性

## 📱 响应式适配

- **桌面端**: 键盘控制 + 鼠标交互
- **平板端**: 触摸手势 + 虚拟按键
- **手机端**: 优化的触摸体验
- **自适应布局**: 控制面板根据屏幕尺寸调整 