# 🎳 保龄球游戏

一个支持陀螺仪控制的3D保龄球游戏，专为移动设备和桌面端设计。

## 🎮 游戏特色

### 陀螺仪控制
- **自动权限请求**：打开游戏自动申请陀螺仪权限
- **实时瞄准**：左右倾斜设备控制瞄准角度
- **灵敏度调节**：可调节陀螺仪响应灵敏度
- **iOS兼容**：支持iPhone/iPad的权限请求流程

### 游戏玩法
- **标准保龄球规则**：10局游戏，每局最多2球
- **实时物理模拟**：球的滚动和碰撞检测
- **3D视觉效果**：透视投影的3D球道渲染
- **得分统计**：实时显示各局得分和总分

### 控制方式
- **移动端**：陀螺仪 + 触摸控制
- **桌面端**：滑块调节 + 鼠标点击
- **混合模式**：支持手动调节和陀螺仪混合使用

## 🎯 操作说明

### 手机端
1. **自动权限**：游戏启动时自动申请陀螺仪权限
2. **瞄准**：左右倾斜设备调整瞄准角度
3. **力度**：滑动力度滑块调节投球力度
4. **投球**：点击红色投球按钮发射保龄球

### 电脑端
1. **瞄准**：拖动角度滑块调整瞄准方向
2. **力度**：拖动力度滑块调节投球力度
3. **投球**：点击投球按钮发射保龄球

## 🏗️ 技术实现

### 前端技术栈
- **React 18** + **Next.js 15**
- **TypeScript** 类型安全
- **Zustand** 状态管理
- **Canvas API** 高性能渲染
- **Tailwind CSS** + **Shadcn UI** 样式系统

### 核心功能
- **物理引擎**：球的运动和碰撞检测
- **3D渲染**：Canvas 2D实现的伪3D效果
- **陀螺仪集成**：Device Orientation API
- **权限管理**：iOS/Android权限请求处理

### 游戏逻辑
- **球瓶排列**：标准保龄球10瓶三角形排列
- **得分计算**：支持Strike、Spare的标准保龄球计分
- **碰撞检测**：精确的球瓶碰撞判定
- **状态管理**：完整的游戏状态跟踪

## 📱 设备兼容性

### 支持的设备
- **iPhone/iPad**：iOS 13+ (需要用户授权)
- **Android手机/平板**：Android 5.0+
- **桌面浏览器**：Chrome, Firefox, Safari, Edge

### 陀螺仪支持
- **iOS设备**：完整支持，包括权限请求
- **Android设备**：原生支持
- **桌面设备**：降级到手动控制

## 🎨 界面设计

### 视觉风格
- **保龄球馆主题**：棕色木质球道配色
- **3D透视效果**：模拟真实保龄球视角
- **现代UI设计**：圆角、渐变、阴影效果
- **响应式布局**：适配各种屏幕尺寸

### 交互反馈
- **实时状态显示**：陀螺仪状态、倾斜角度
- **动画效果**：球瓶倒下动画、进度条动画
- **音效提示**：控制台日志输出游戏事件

## 🔧 开发说明

### 文件结构
```
app/game/bowling/
├── page.tsx              # 游戏主页面
├── store.ts              # Zustand状态管理
├── README.md             # 说明文档
└── components/
    ├── BowlingGame.tsx   # 主游戏组件
    ├── BowlingCanvas.tsx # Canvas渲染
    ├── GameControls.tsx  # 控制面板
    └── GameStats.tsx     # 统计面板
```

### 状态管理
- **游戏状态**：进行中、暂停、结束
- **球瓶状态**：位置、是否击倒、角度
- **保龄球状态**：位置、速度、是否滚动
- **陀螺仪状态**：支持、权限、倾斜数据

### 自动化特性
- **自动开始游戏**：打开页面自动初始化
- **自动权限请求**：iOS设备自动申请陀螺仪权限
- **自动物理更新**：游戏循环自动更新物理状态
- **自动得分计算**：击倒球瓶后自动计算得分

## 🎯 游戏规则

### 保龄球基础规则
1. **10局游戏**：每局最多投2球
2. **Strike**：第一球击倒全部球瓶，得10分+后两球分数
3. **Spare**：两球击倒全部球瓶，得10分+下一球分数
4. **普通得分**：击倒球瓶数即为得分

### 游戏流程
1. **瞄准阶段**：调整角度和力度
2. **投球阶段**：发射保龄球
3. **滚动阶段**：球滚向球瓶（3秒动画）
4. **结算阶段**：计算得分，准备下一球/下一局

## 🚀 未来优化

### 功能扩展
- [ ] 音效系统（击球声、倒瓶声）
- [ ] 多人对战模式
- [ ] 成就系统
- [ ] 球道选择（不同材质、难度）

### 技术优化
- [ ] WebGL 3D渲染
- [ ] 更真实的物理引擎
- [ ] 网络对战功能
- [ ] 数据持久化存储

---

🎳 **享受保龄球的乐趣！倾斜设备，瞄准球瓶，争取全倒！** 