# 图片拼图游戏

一个基于 React 和 TypeScript 的图片拼图游戏，支持自定义图片上传和多种难度级别。

## 功能特性

### 🎮 游戏功能
- **多种难度**: 支持 3×3、4×4、5×5 三种难度级别
- **图片来源**: 可以使用系统预设图片或上传自定义图片
- **智能打乱**: 确保生成的拼图都有解
- **键盘控制**: 支持方向键控制拼图块移动
- **触摸支持**: 完全支持移动端触摸操作

### 📊 统计功能
- **个人记录**: 记录每个难度的最佳时间和最少移动次数
- **游戏统计**: 显示完成次数等统计信息
- **新记录提示**: 创造新记录时会有特殊提示
- **本地存储**: 使用 localStorage 持久化保存数据

### 🎵 音效系统
- **移动音效**: 每次移动拼图块时播放音效
- **完成音效**: 完成拼图时播放成功音效
- **Web Audio API**: 使用原生 Web Audio API 生成音效

### 🎨 界面设计
- **响应式设计**: 适配桌面端和移动端
- **现代 UI**: 使用 Tailwind CSS 和 Shadcn UI
- **流畅动画**: 丰富的过渡动画和交互效果
- **直观操作**: 清晰的视觉反馈和操作提示

## 技术实现

### 核心算法
- **可解性检测**: 通过逆序数算法确保拼图有解
- **智能洗牌**: Fisher-Yates 洗牌算法结合可解性检测
- **移动验证**: 精确的相邻性检测算法

### 图片处理
- **CSS Background**: 使用 CSS background-position 实现图片切割
- **响应式适配**: 自动适配不同尺寸的图片
- **预览功能**: 提供完整图片预览作为参考

### 状态管理
- **React Hooks**: 使用 useState、useEffect、useCallback 等
- **自定义 Hooks**: 封装游戏统计和音效功能
- **本地存储**: localStorage 实现数据持久化

## 文件结构

```
picture-puzzle/
├── page.tsx                    # 主页面组件
├── components/
│   └── PicturePuzzle.tsx      # 核心拼图游戏组件
├── hooks/
│   ├── useGameStats.ts        # 游戏统计 Hook
│   └── useGameSounds.ts       # 音效管理 Hook
└── README.md                  # 说明文档
```

## 使用方法

1. **选择图片来源**
   - 点击"使用系统图片"选择预设图片
   - 或点击"上传自定义图片"使用自己的图片

2. **选择难度级别**
   - 简单 (3×3): 9 个拼图块
   - 中等 (4×4): 16 个拼图块  
   - 困难 (5×5): 25 个拼图块

3. **开始游戏**
   - 点击与空白块相邻的拼图块来移动
   - 或使用键盘方向键控制
   - 将所有拼图块移动到正确位置即可获胜

4. **查看统计**
   - 游戏会自动记录你的最佳成绩
   - 创造新记录时会有特殊提示

## 浏览器兼容性

- Chrome 60+
- Firefox 55+
- Safari 11+
- Edge 79+

## 开发说明

该游戏遵循项目的技术栈规范：
- 使用 Next.js 15 和 React
- TypeScript 类型安全
- Tailwind CSS 样式
- Shadcn UI 组件库
- 响应式设计原则 